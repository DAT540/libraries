'DEFINES-------------------------------------------------------------
#define WLN_AVAILABLE 0
#define SOCK_MAX_SIGNATURE_LEN 32
#define SSI_MAX_SIGNATURE_LEN 32
#define SI2C_MAX_SIGNATURE_LEN 32
#define SSPI_MAX_SIGNATURE_LEN 32
#define CTS_MAP 0
#define RTS_MAP 0
#define SNTP_DEBUG_PRINT 1
#define DASHBOARD_SETTINGS_FILE "dashboard_settings.xtxt"




const FIRMWARE_VERSION="{MyDevice 1.0.0}"

const MAX_NUM_INTERFACES=4
const SNTP_SERVER="216.239.35.0"



'INCLUDES------------------------------------------------------------
includepp "settings.xtxt"
includepp "dashboard_settings.xtxt"
includepp "filenum.xtxt"
includepp "tables.xtxt"


include "../../time/time.tbh"
include "../../time/datetime.tbh"
include "../../settings/settings.tbh"
include "../../utils/utils.tbh"
include "../../http_server/http_server.tbh"
include "../../sock/sock.tbh"
include "../../upgrade/upgrade.tbh"
include "../../sntp/sntp.tbh"
include "../../stgcmd/stgcmd.tbh"
include "../../filenum/filenum.tbh"
include "../../tables/tables.tbh"
include "../../tables/tables_web.tbh"
include "../../modbus/modbus.tbh"
include "../../mqtt/mqtt.tbh"


'DECLARATIONS--------------------------------------------------------

declare function datetime_timestamp_mins(timestamp as dword) as dword
declare function datetime_mins_to_timestamp(mins as word) as dword


declare device_net_ip as string(16)
declare device_net_mask as string(16)
declare device_net_gateway as string(16)

declare sub interface_set(interface as pl_sock_interfaces, state as no_yes)

declare interface_ready(MAX_NUM_INTERFACES) as no_yes
declare APP_TIMEZONE as en_td_timezones

declare current_interface as pl_sock_interfaces

declare sub change_current_interface(new_interface as pl_sock_interfaces)
declare sub close_interface_sockets(interface as pl_sock_interfaces)
declare upgrade_socket_http as byte

declare SNTP_socket as byte
declare var_poll_timer as dword
declare var1 as float

declare function var_var1_update() as float
declare sub var_var1_set(value as float)
declare stg1 as dword

declare function var_stg1_update() as dword
declare sub var_stg1_set(value as dword)
declare function tbl_record_find_sorted(record_type as en_tbl_record_states, byref search_data as string, byref field_name as string, byref rec_num as word, wraparound as boolean, find_method as pl_fd_find_modes) as en_tbl_status_codes

'Query found result for T1
declare sub T1_found_lc7hmobsjp7rjjxb7yd(row_index as word,byref TS as float,byref F as float,byref T as float)

declare table_find_result_index as word

'Query found result for T1
declare sub T1_found_lc8nacbg4t8xik9c3n6(row_index as word,byref TS as float,byref F as float,byref T as float)

'Query found result for T1
declare sub T1_found_lc8u2erzuad9ypwd6s(row_index as word,byref TS as float,byref F as float,byref T as float)


declare sub boot()
